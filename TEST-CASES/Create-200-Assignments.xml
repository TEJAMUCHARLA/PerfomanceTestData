<?xml version="1.0" encoding="UTF-8"?>
<con:testCase xmlns:con="http://eviware.com/soapui/config" id="05025cc5-a248-4e67-a40e-029808f33fb1" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Create 200 Assignments" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" zephyrTestName="" zephyrTestId="">
  <con:settings id="addbe766-e4c9-4898-b83a-d4cf89e32b11">
    <con:setting id="05025cc5-a248-4e67-a40e-029808f33fb1fileName">Create-200-Assignments</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="CreateAssignment" id="fd7889c2-ad88-4623-b3e7-6136bc4b3eb2">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="con:DataSourceStep">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>${#Project#TestDataExcelFile}</file>
          <worksheet>CreateAssignment</worksheet>
          <cell>A143</cell>
          <ignoreEmpty>false</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>points</con:property>
      <con:property>isGraded</con:property>
      <con:property>attemptType</con:property>
      <con:property>isHighlightLateSubmission</con:property>
      <con:property>isBroadcastingRequired</con:property>
      <con:property>accessibleFromTimezone</con:property>
      <con:property>timeZoneOffset</con:property>
      <con:property>isForEveryOne</con:property>
      <con:property>isImmediateAvailable</con:property>
      <con:property>isUnlocked</con:property>
      <con:property>NoOfAttempts</con:property>
      <con:property>Remarks</con:property>
      <con:property>resourse type</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Test Case Test Data" id="dd315d02-3224-4207-8b04-45b3a237e5cb">
    <con:settings/>
    <con:config>
      <script>import java.lang.*;
import java.util.Date
import java.util.Calendar
import java.util.TimeZone
import java.text.SimpleDateFormat

def now= new Date()
SimpleDateFormat currentDatePlusOn = new SimpleDateFormat("MMMdd_HHmmss")
def currenTime= currentDatePlusOn.format(new Date(now.getTime()))
log.info("TIME NOW "+currenTime)
currenTime ="_"+currenTime

def timeZoneOffset = context.expand( '${CreateAssignment#timeZoneOffset}' )

def accessibleFromTimezone = context.expand( '${CreateAssignment#accessibleFromTimezone}' )


testRunner.testCase.testSuite.project.setPropertyValue("CourseAssignmentCount","31")
testRunner.testCase.testSuite.project.setPropertyValue("TotalAssignments","200")//Assignment count for 
testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseName","Performance Test Data 200 Assignments "+currenTime.toString())
testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseTimeZone",accessibleFromTimezone.toString())
testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseDueTimeInDays","120")
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentDueTimeInDays","100")
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentDueTimeInMilliSeconds","14400000")
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentTimeZone",accessibleFromTimezone.toString())
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentTimeZoneOffset",timeZoneOffset.toString())

def instructorUser= ""
def instructorPassword= ""

//testRunner.testCase.testSuite.project.setPropertyValue("InstructorEmial",instructorUser.toString())
//testRunner.testCase.testSuite.project.setPropertyValue("instructorPassword",instructorPassword.toString())
log.info("SetUpDone")</script>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay 3" id="124c591a-3d4a-4fe3-96db-cfabc4e40931">
    <con:settings/>
    <con:config>
      <delay>1000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Call Create Course" id="3574e321-11b9-4a8d-aeab-5e88d7252749">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="con:RunTestCaseStep" copyLoadTestProperties="true" copyHttpSession="true" ignoreEmptyProperties="true">
      <con:targetTestCase>dd9042f9-36df-49e2-acb7-2e2389cb40ed</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>accessDate</con:name>
          <con:value>2023-04-17T10:08:23-05:00</con:value>
        </con:property>
        <con:property>
          <con:name>DueDate</con:name>
          <con:value>2023-05-15</con:value>
        </con:property>
        <con:property>
          <con:name>EffectiveDate</con:name>
          <con:value>2023-05-09T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>ExpireDate</con:name>
          <con:value>2023-09-06T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow</con:name>
          <con:value>Tue, Apr 18 2023</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow2</con:name>
          <con:value>2023-04-18</con:value>
        </con:property>
        <con:property>
          <con:name>instructorUserId</con:name>
          <con:value>0345b785-ba3e-4b3a-9c6c-447101694d75</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfAttempts</con:name>
          <con:value>1</con:value>
        </con:property>
        <con:property>
          <con:name>StudentenrollmentToken</con:name>
          <con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODE4ODU5NjAsImp0aSI6IjAxZDNiYzFlLWJlMzMtNGNjOS04OGU3LWI4ZTcxMjMzNTNhNSIsImlhdCI6MTY4MTcxMzE2MCwiaXNzIjoiaHR0cHM6Ly9waG9lbml4LWNjbS50aGVwb2ludC5sd3cuY29tIiwibmJmIjoxNjgxNzEzMTYwLCJzdWIiOiI5ZTZlOGM1Ny02ODNlLTRjNTQtODkzMS00NDc0MDE1OWQ2ODUiLCJobHJwX2NjbSI6W3siciI6InMiLCJjcnMiOiJnU0VCUUJLRzk5SUIiLCJzZWMiOiJnU0VCUUJLRzk5SUJfc1NFQlFCS0dBMlIifV19.kKMRJHB4y0Tno_H-esNrWhe-RsUn8zHCmazkZhhKCgXyBFbLRWiD2zyGp5MOZCZbIW1WIlQg4CjosIPwQtw204mHb6iNohaZtznNKEaZ5_BbW3241Stf9E_xo2X9qBCl_zrYUpX1M4uR066aPvoD5d_hViNCAynUW7OXzK3nC4VgF9F6amwQSDrje6AeD8D8vLTw_kmFk9eGSkVvEWnd5ZssYCAzqyVdgadLGbFrWj2N3TOIPsEkgR3HoJ17Ipg_ZCAwBqrAiPG5WMqQsNbMexKeSeb2bMA5FQuasV9Qc3YK9aphsr4ER17HAAZ1F1GtO_gmaYBO8xKU11WX1_UDGx5Dt0cpeRM24oonRf4sGS-BIsWXCsG8fTyaYzfJajIv7xh-ibK5NYtp2fji4W1l9ErKyfMX8bh27B5TnSOPjKZQydo4bqRnpK6IeiSCKmhbi195Yzzzns9h3Zs0edCV70UnEnFPO23gHIM2tSjkk_HNUitc8rR3ErYXKQx_p3t4RyAYcP8dbqi0RdepDBYoyR8LtFpfF63PYKKSk9SD5ePpqcqyqfHDibuL_Onmn0q14sF5TkXmnFLrj15Bxx4dgJV6BwTwbc3n_I-y5unOB6nbSR2PwINbsueSx7hjmebMPzZJqUwCGeehUnvGvt5vMbMY1ofYglw1HxryhcCvgdo</con:value>
        </con:property>
        <con:property>
          <con:name>accessTime</con:name>
          <con:value>10:08 PM</con:value>
        </con:property>
        <con:property>
          <con:name>DueTime</con:name>
          <con:value>10:06 PM</con:value>
        </con:property>
        <con:property>
          <con:name>CourseSerialNumber</con:name>
          <con:value>409</con:value>
        </con:property>
        <con:property>
          <con:name>BarerToken</con:name>
          <con:value>Bearer ZmE0Njg0N2VlYzNiNzJhZGU1ZWU2MDI1ZGY2MWI3MzhjYWM2MGUzMGFkNTg4MjEyZDE2YzY2MTYwOGNjNmNiOA</con:value>
        </con:property>
        <con:property>
          <con:name>CollectionQnID</con:name>
          <con:value>1500116053</con:value>
        </con:property>
        <con:property>
          <con:name>CourseName</con:name>
          <con:value>Performance Test Data 200 Assignments _May09_142347</con:value>
        </con:property>
        <con:property>
          <con:name>CourseId</con:name>
          <con:value>gT9V74TVEIX</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>accessDate</con:entry>
        <con:entry>DueDate</con:entry>
        <con:entry>EffectiveDate</con:entry>
        <con:entry>ExpireDate</con:entry>
        <con:entry>tomorrow</con:entry>
        <con:entry>tomorrow2</con:entry>
        <con:entry>instructorUserId</con:entry>
        <con:entry>numberOfAttempts</con:entry>
        <con:entry>StudentenrollmentToken</con:entry>
        <con:entry>accessTime</con:entry>
        <con:entry>DueTime</con:entry>
        <con:entry>CourseSerialNumber</con:entry>
        <con:entry>BarerToken</con:entry>
        <con:entry>CollectionQnID</con:entry>
        <con:entry>CourseName</con:entry>
        <con:entry>CourseId</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay 2" id="519e9b32-ef40-4b8e-8d5d-763c79bdad68">
    <con:settings/>
    <con:config>
      <delay>100000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Create Assignmnets" id="93fcc086-1597-4d07-a79b-4e4d7d090e55">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" ignoreEmptyProperties="true">
      <con:targetTestCase>2b24812c-5789-4c7f-be73-d6534e814e6c</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>accessDate</con:name>
          <con:value>2023-05-09T04:55:55-05:00</con:value>
        </con:property>
        <con:property>
          <con:name>DueDate</con:name>
          <con:value>2023-08-17</con:value>
        </con:property>
        <con:property>
          <con:name>EffectiveDate</con:name>
          <con:value>2023-04-18T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>ExpireDate</con:name>
          <con:value>2023-05-18T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow</con:name>
          <con:value>Tue, Apr 18 2023</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow2</con:name>
          <con:value>2023-04-18</con:value>
        </con:property>
        <con:property>
          <con:name>instructorUserId</con:name>
          <con:value>0345b785-ba3e-4b3a-9c6c-447101694d75</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfAttempts</con:name>
          <con:value>1</con:value>
        </con:property>
        <con:property>
          <con:name>StudentenrollmentToken</con:name>
          <con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODE4ODU5NjAsImp0aSI6IjAxZDNiYzFlLWJlMzMtNGNjOS04OGU3LWI4ZTcxMjMzNTNhNSIsImlhdCI6MTY4MTcxMzE2MCwiaXNzIjoiaHR0cHM6Ly9waG9lbml4LWNjbS50aGVwb2ludC5sd3cuY29tIiwibmJmIjoxNjgxNzEzMTYwLCJzdWIiOiI5ZTZlOGM1Ny02ODNlLTRjNTQtODkzMS00NDc0MDE1OWQ2ODUiLCJobHJwX2NjbSI6W3siciI6InMiLCJjcnMiOiJnU0VCUUJLRzk5SUIiLCJzZWMiOiJnU0VCUUJLRzk5SUJfc1NFQlFCS0dBMlIifV19.kKMRJHB4y0Tno_H-esNrWhe-RsUn8zHCmazkZhhKCgXyBFbLRWiD2zyGp5MOZCZbIW1WIlQg4CjosIPwQtw204mHb6iNohaZtznNKEaZ5_BbW3241Stf9E_xo2X9qBCl_zrYUpX1M4uR066aPvoD5d_hViNCAynUW7OXzK3nC4VgF9F6amwQSDrje6AeD8D8vLTw_kmFk9eGSkVvEWnd5ZssYCAzqyVdgadLGbFrWj2N3TOIPsEkgR3HoJ17Ipg_ZCAwBqrAiPG5WMqQsNbMexKeSeb2bMA5FQuasV9Qc3YK9aphsr4ER17HAAZ1F1GtO_gmaYBO8xKU11WX1_UDGx5Dt0cpeRM24oonRf4sGS-BIsWXCsG8fTyaYzfJajIv7xh-ibK5NYtp2fji4W1l9ErKyfMX8bh27B5TnSOPjKZQydo4bqRnpK6IeiSCKmhbi195Yzzzns9h3Zs0edCV70UnEnFPO23gHIM2tSjkk_HNUitc8rR3ErYXKQx_p3t4RyAYcP8dbqi0RdepDBYoyR8LtFpfF63PYKKSk9SD5ePpqcqyqfHDibuL_Onmn0q14sF5TkXmnFLrj15Bxx4dgJV6BwTwbc3n_I-y5unOB6nbSR2PwINbsueSx7hjmebMPzZJqUwCGeehUnvGvt5vMbMY1ofYglw1HxryhcCvgdo</con:value>
        </con:property>
        <con:property>
          <con:name>accessTime</con:name>
          <con:value>04:55 AM</con:value>
        </con:property>
        <con:property>
          <con:name>DueTime</con:name>
          <con:value>08:55 AM</con:value>
        </con:property>
        <con:property>
          <con:name>AssignedAssignmnetCount</con:name>
          <con:value>227</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>accessDate</con:entry>
        <con:entry>DueDate</con:entry>
        <con:entry>EffectiveDate</con:entry>
        <con:entry>ExpireDate</con:entry>
        <con:entry>tomorrow</con:entry>
        <con:entry>tomorrow2</con:entry>
        <con:entry>instructorUserId</con:entry>
        <con:entry>numberOfAttempts</con:entry>
        <con:entry>StudentenrollmentToken</con:entry>
        <con:entry>accessTime</con:entry>
        <con:entry>DueTime</con:entry>
        <con:entry>AssignedAssignmnetCount</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="Data Source Credetails" id="b62eeda6-a3f2-44b9-bd87-ea435ae02673">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="con:DataSourceStep">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>${#Project#TestDataExcelFile}</file>
          <worksheet>${#Project#DB_Data_ExcelSheetName}</worksheet>
          <cell>A2</cell>
          <ignoreEmpty>false</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>StudentUserEmail</con:property>
      <con:property>StudentPassword</con:property>
      <con:property>WitchSection</con:property>
      <con:startRow/>
      <con:endRow>0</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>false</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Set Credetails" id="e09a361b-9ee3-4dd2-a791-6cd23e7660e6">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import java.lang.*;

def studentUserEmail = context.expand( '${Data Source Credetails#StudentUserEmail}' )
def studentPassword = context.expand( '${Data Source Credetails#StudentPassword}' )


//testRunner.testCase.testSuite.project.setPropertyValue("StudnetEmail", "AutomationStudent08")
//testRunner.testCase.testSuite.project.setPropertyValue("StudentPassword", "Welcome001")

testRunner.testCase.testSuite.project.setPropertyValue("StudnetEmail", studentUserEmail)
testRunner.testCase.testSuite.project.setPropertyValue("StudentPassword", studentPassword)


def witchSection = context.expand( '${Data Source Credetails#WitchSection}' )

def data = "\${#Project#Section"+witchSection.toString()+"Password}"
/*
if(witchSection.toString()=="1")
{
	def section1Password = context.expand( '${#Project#Section1Password}' )
}
else if(witchSection.toString()=="2")
{
	def section1Password = context.expand( '${#Project#Section1Password}' )
}
*/

def section1Password = context.expand( data )
log.info("password "+section1Password)
testRunner.testCase.testSuite.project.setPropertyValue("StudentJoinPassword", section1Password)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetAccessTokenStudent1" id="882bff35-9003-4fb3-8486-7be1088c1e28">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="Auth API" resourcePath="/Authentication/UsernameInSso" methodName="Method 1" xsi:type="con:RestRequestStep">
      <con:restRequest name="GetAccessTokenStudent1" id="7a8b79ab-de89-4998-ba4f-b6708ff27d44" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://preprod-sso.hlrpbooks.com</con:endpoint>
        <con:request>{
  "Email": "${#Project#StudnetEmail}",
  "Password": "${#Project#StudentPassword}",
  "PostbackUrlOnSuccess": "${#Project#PostbackUrlOnSuccess}",
  "SiteId": "${#Project#SystemId}",
  "StaySignIn": false,
    "UrlToRedirectOnSuccess": "${#Project#UrlToRedirectOnSuccess}",
  "Timestamp": "2022-10-04T05:23:53.382Z",
  "SourceUrl": "${#Project#SourceUrl}",
  "AccessCode": "",
  "SiteInfoType": "Education",
  "WorkflowId": ""
}</con:request>
        <con:originalUri>https://preprod-sso.hlrpbooks.com/Authentication/UsernameInSso</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="1de409a2-83ad-4119-9963-7a2d299ce263" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="32a7ec59-9333-4c75-89de-3863fec4fa2c" name="Response SLA">
          <con:configuration>
            <SLA>${SLA}</SLA>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" id="7b97dea9-f6f0-473e-ae65-367e168d9ca7" name="Script Assertion">
          <con:configuration>
            <scriptText>import groovy.json.JsonSlurper
import java.lang.*;

def response = context.expand( '${GetAccessTokenStudent1#Response}' )


def verifyResponse = new JsonSlurper().parseText(response)
log.info(verifyResponse.Data.AuthenicationResult)

assert verifyResponse.Data.AuthenicationResult != null</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="5fdd3302-0f5d-4e97-86ac-499553156130">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="91a6eeff-dd67-4af8-98fd-225fe8ca80e2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Wait for Access student" id="dbe210c7-a4ca-4356-97c1-f5579306e51f">
    <con:settings/>
    <con:config>
      <delay>${#Project#LoginDealy}</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Set Tokens Student1" id="fb92455e-ec0f-4f27-b4f2-48280d40c5ac">
    <con:settings/>
    <con:config>
      <script><![CDATA[import groovy.json.JsonSlurper
import java.lang.*;
def response = context.expand( '${GetAccessTokenStudent1#Response}' )

def resp = new JsonSlurper().parseText(response)

def start = resp.Data.AuthenicationResult.indexOf("<AccessToken>")+13;
def end = resp.Data.AuthenicationResult.indexOf("</AccessToken>");
def xaccesstoken = resp.Data.AuthenicationResult.substring(start, end);
//result["xaccessTokenStudent"]=xaccesstoken

def ssostart = resp.Data.AuthenicationResult.indexOf("<TokenKey>")+10;
def ssoend = resp.Data.AuthenicationResult.indexOf("</TokenKey>");
def ssotoken = resp.Data.AuthenicationResult.substring(ssostart, ssoend);
//result["ssoStudent"]=ssotoken

def IDstart = resp.Data.AuthenicationResult.indexOf("<UserId>")+8;
def IDend = resp.Data.AuthenicationResult.indexOf("</UserId>");
def StudentId = resp.Data.AuthenicationResult.substring(IDstart, IDend);


testRunner.testCase.testSuite.project.setPropertyValue("StudentUserId", StudentId)
testRunner.testCase.testSuite.project.setPropertyValue("xaccessTokenStudent", xaccesstoken)
testRunner.testCase.testSuite.project.setPropertyValue("ssoStudent", ssotoken)

log.info("StudentUserId = "+ StudentId)
log.info("xaccessTokenStudent =  " + xaccesstoken)
log.info("ssoStudent = "+ssotoken)]]></script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Loacte course in student join" id="cbe6373b-847b-4351-b050-f9cd972356a7">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="Student Search Course" resourcePath="/api/class-management/v2/class-wrapper/search/passcode/{Password}" methodName="Method 1" xsi:type="con:RestRequestStep">
      <con:restRequest name="Loacte course in student join" id="481ffffb-0c31-49cf-b198-cc533d483980" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment>&lt;con:entry key="${#Project#Key_ssoStudent}" value="${#Project#ssoStudent}" xmlns:con="http://eviware.com/soapui/config"/>&lt;con:entry key="${#Project#Key_xaccessTokenStudent}" value="${#Project#xaccessTokenStudent}" xmlns:con="http://eviware.com/soapui/config"/>&lt;/xml-fragment></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://contentqa01-ccm.hlrpphoenix.com/api/class-management/v2/class-wrapper/search/passcode/</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="82ba8780-1ade-4633-9729-3d67b0db9a56" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>201</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="52a32018-748b-4575-b14a-52aa15f38cae" name="Response SLA">
          <con:configuration>
            <SLA>${SLA}</SLA>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" id="d8338b4d-feef-4344-a50a-c85abb5fcf52" name="Script Assertion" disabled="true">
          <con:configuration>
            <scriptText>import groovy.json.JsonSlurper
import java.lang.*;
def response222 = context.expand( '${Create course#Response}' )

def rawRequest = context.expand( '${Create course#RawRequest}' )

def  responsedata= context.expand( '${Loacte course in student join#Response}' )

def  rawRequestData= new JsonSlurper().parseText(rawRequest)
def response = new JsonSlurper().parseText(responsedata)
def response22 = new JsonSlurper().parseText(response222)

assert response.message =="Passcode search completed."
assert response.data.id  == response22.sectionId
assert response.data.name == rawRequestData.sectionName
assert response.data.number == rawRequestData.number
assert response.data.products.isbn  == rawRequestData.products
assert response.data.academicTerm  == rawRequestData.academicTerm
assert response.data.academicYear  == rawRequestData.academicYear
assert response.data.state=="ACTIVE"
assert response.data.instructors !=null
assert response.data.instructors[0].userId == rawRequestData.instructor
assert response.data.courseId  == response22.id
assert response.data.courseName  == rawRequestData.name
assert response.data.timeZoneId == rawRequestData.timeZoneId
assert response.data.sfdcAccountId  == rawRequestData.sfdcAccountId
assert response.data.programTypeId  == rawRequestData.programTypeId

assert response.data.startDate.toString().substring(0,response.data.startDate.toString().size()-1) == rawRequestData.startDate.toString().substring(0,rawRequestData.startDate.toString().size()-5)

assert response.data.endDate.toString().substring(0,response.data.endDate.toString().size()-1) == rawRequestData.endDate.toString().substring(0,rawRequestData.endDate.toString().size()-5)</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Password" value="${#Project#StudentJoinPassword}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Password</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="5fdd3302-0f5d-4e97-86ac-499553156130">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="91a6eeff-dd67-4af8-98fd-225fe8ca80e2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Groovy Script 2" id="d8c88f62-c3b2-43c2-836e-cabb55a7303c">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import java.lang.*;

def response = context.expand( '${Loacte course in student join#Response#$[\'data\'][\'id\']}' )

log.info(response)
testRunner.testCase.testSuite.project.setPropertyValue("JoinedSectionid", response)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Student join a course" id="94796e3e-7739-4d4b-81a5-725d9d01297b">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="Student Join Course" resourcePath="/api/ccm/v2/private/user/enrollment" methodName="Method 1" xsi:type="con:RestRequestStep">
      <con:restRequest name="Student join a course" id="121a8d27-235a-4523-b0de-29d285db07f0" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment>&lt;con:entry key="${#Project#Key_ssoStudent}" value="${#Project#ssoStudent}" xmlns:con="http://eviware.com/soapui/config"/>&lt;con:entry key="${#Project#Key_xaccessTokenStudent}" value="${#Project#xaccessTokenStudent}" xmlns:con="http://eviware.com/soapui/config"/>&lt;/xml-fragment></con:setting>
        </con:settings>
        <con:request>{
  "id": "${Loacte course in student join#Response#$['data']['id']}",
  "role": "STUDENT",
  "status": "ACTIVE"
}</con:request>
        <con:originalUri>https://contentqa01-ccm.hlrpphoenix.com/api/ccm/v2/private/user/enrollment</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="8a6050a3-5f0c-4a36-8005-d97bb006323e" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="6deda5a2-b3c7-49a7-873a-2b58dbed9bc9" name="Response SLA">
          <con:configuration>
            <SLA>${SLA}</SLA>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" id="ae524d2f-124b-46a5-891f-f58810d4aaf0" name="Script Assertion">
          <con:configuration>
            <scriptText>import groovy.json.JsonSlurper
import java.lang.*;
def response = context.expand( '${Student join a course#Response}' )

def verifyResponse = new JsonSlurper().parseText(response)

assert verifyResponse.enrollmentToken != null</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="5fdd3302-0f5d-4e97-86ac-499553156130">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="91a6eeff-dd67-4af8-98fd-225fe8ca80e2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay" id="8183c7d5-dcf3-420f-962f-e4664daecd0b">
    <con:settings/>
    <con:config>
      <delay>180000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Attempt" id="b314db8d-3b8d-4fb1-af0a-90fe6b807e50">
    <con:settings/>
    <con:config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" ignoreEmptyProperties="true">
      <con:targetTestCase>c176387a-a004-4893-a839-30608d68cbb1</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>accessDate</con:name>
          <con:value>2023-04-18T06:11:52-05:00</con:value>
        </con:property>
        <con:property>
          <con:name>DueDate</con:name>
          <con:value>2023-04-18</con:value>
        </con:property>
        <con:property>
          <con:name>EffectiveDate</con:name>
          <con:value>2023-04-18T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>ExpireDate</con:name>
          <con:value>2023-05-18T00:00:00.000Z</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow</con:name>
          <con:value>Tue, Apr 18 2023</con:value>
        </con:property>
        <con:property>
          <con:name>tomorrow2</con:name>
          <con:value>2023-04-18</con:value>
        </con:property>
        <con:property>
          <con:name>instructorUserId</con:name>
          <con:value>0345b785-ba3e-4b3a-9c6c-447101694d75</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfAttempts</con:name>
          <con:value>1</con:value>
        </con:property>
        <con:property>
          <con:name>StudentenrollmentToken</con:name>
          <con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODE4ODU5NjAsImp0aSI6IjAxZDNiYzFlLWJlMzMtNGNjOS04OGU3LWI4ZTcxMjMzNTNhNSIsImlhdCI6MTY4MTcxMzE2MCwiaXNzIjoiaHR0cHM6Ly9waG9lbml4LWNjbS50aGVwb2ludC5sd3cuY29tIiwibmJmIjoxNjgxNzEzMTYwLCJzdWIiOiI5ZTZlOGM1Ny02ODNlLTRjNTQtODkzMS00NDc0MDE1OWQ2ODUiLCJobHJwX2NjbSI6W3siciI6InMiLCJjcnMiOiJnU0VCUUJLRzk5SUIiLCJzZWMiOiJnU0VCUUJLRzk5SUJfc1NFQlFCS0dBMlIifV19.kKMRJHB4y0Tno_H-esNrWhe-RsUn8zHCmazkZhhKCgXyBFbLRWiD2zyGp5MOZCZbIW1WIlQg4CjosIPwQtw204mHb6iNohaZtznNKEaZ5_BbW3241Stf9E_xo2X9qBCl_zrYUpX1M4uR066aPvoD5d_hViNCAynUW7OXzK3nC4VgF9F6amwQSDrje6AeD8D8vLTw_kmFk9eGSkVvEWnd5ZssYCAzqyVdgadLGbFrWj2N3TOIPsEkgR3HoJ17Ipg_ZCAwBqrAiPG5WMqQsNbMexKeSeb2bMA5FQuasV9Qc3YK9aphsr4ER17HAAZ1F1GtO_gmaYBO8xKU11WX1_UDGx5Dt0cpeRM24oonRf4sGS-BIsWXCsG8fTyaYzfJajIv7xh-ibK5NYtp2fji4W1l9ErKyfMX8bh27B5TnSOPjKZQydo4bqRnpK6IeiSCKmhbi195Yzzzns9h3Zs0edCV70UnEnFPO23gHIM2tSjkk_HNUitc8rR3ErYXKQx_p3t4RyAYcP8dbqi0RdepDBYoyR8LtFpfF63PYKKSk9SD5ePpqcqyqfHDibuL_Onmn0q14sF5TkXmnFLrj15Bxx4dgJV6BwTwbc3n_I-y5unOB6nbSR2PwINbsueSx7hjmebMPzZJqUwCGeehUnvGvt5vMbMY1ofYglw1HxryhcCvgdo</con:value>
        </con:property>
        <con:property>
          <con:name>accessTime</con:name>
          <con:value>06:11 AM</con:value>
        </con:property>
        <con:property>
          <con:name>DueTime</con:name>
          <con:value>06:11 AM</con:value>
        </con:property>
        <con:property>
          <con:name>startAt</con:name>
          <con:value>2023-05-09T09:34:34.605Z</con:value>
        </con:property>
        <con:property>
          <con:name>completedAt</con:name>
          <con:value>2023-05-09T09:37:37.605Z</con:value>
        </con:property>
        <con:property>
          <con:name>sentAt</con:name>
          <con:value>2023-05-09T09:38:38.605Z</con:value>
        </con:property>
        <con:property>
          <con:name>Assertid</con:name>
          <con:value>2853</con:value>
        </con:property>
        <con:property>
          <con:name>Loop</con:name>
          <con:value>162</con:value>
        </con:property>
        <con:property>
          <con:name>PrepuExternalPrepuId</con:name>
          <con:value>["1501245483", "1501245484", "1501245485", "1501245486", "1501245487", "1501245488", "1501245489", "1501245490", "1501245491", "1501245492", "1501245493", "1501245494", "1501245495", "1501245496", "1501245497", "1501245498", "1501245499", "1501245500", "1501245501", "1501245502", "1501245503", "1501245504", "1501245505", "1501245506", "1501245507", "1501245508", "1501245509", "1501245510", "1501245511", "1501245512", "1501245513", "1501245514", "1501245515", "1501245516", "1501245517", "1501245518", "1501245519", "1501245520", "1501245521", "1501245522", "1501245523", "1501245524", "1501245525", "1501245526", "1501245527", "1501245528", "1501245529", "1501245530", "1501245531", "1501245532", "1501245533", "1501245534", "1501245535", "1501245536"]</con:value>
        </con:property>
        <con:property>
          <con:name>PrepuTargetMasteryLevel</con:name>
          <con:value>["8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8", "8"]</con:value>
        </con:property>
        <con:property>
          <con:name>PrepuName</con:name>
          <con:value>["Acid-Base Balance", "Chapter 1: Professional Nursing Practice", "Behaviors / Addiction", "Chapter 2: Medical-Surgical Nursing", "Assessment", "Chapter 3: Health Education and Health Promotion", "Caring Interventions", "Chapter 4: Adult Health and Physical, Nutritional, and Cultural Assessment", "Cellular Regulation", "Chapter 5: Stress and Inflammatory Responses", "Clinical Decision Making / Clinical Judgment", "Chapter 6: Genetics and Genomics in Nursing", "Clotting", "Chapter 7: Disability and Chronic Illness", "Cognition", "Chapter 8: Care of the Older Adult", "Collaboration / Teamwork &amp; Collaboration", "Chapter 9: Pain Management", "Comfort / Rest", "Chapter 10: Principles of Fluid and Electrolytes", "Communication", "Chapter 11: Shock, Sepsis, and Multiple Organ Dysfunction Syndrome", "Critical Thinking", "Chapter 12: Oncologic Management", "Culture", "Chapter 13: Palliative and End-of-Life Care", "Development / Human Development", "Chapter 14: Preoperative Nursing Management", "Elimination", "Chapter 15: Intraoperative Nursing Management", "End of Life", "Chapter 16: Postoperative Nursing Management", "Evidence-Based Practice", "Chapter 17: Assessment of Respiratory Function", "Fluid &amp; Electrolyte Balance", "Chapter 18: Management of Patients with Upper Respiratory Tract Disorders", "Functional Ability", "Chapter 19: Management of Patients with Chest and Lower Respiratory Tract Disorders", "Health Promotion", "Chapter 20: Management of Patients with Chronic Pulmonary Disease", "Health, Wellness &amp; Illness", "Chapter 21: Assessment of Cardiovascular Function", "Immunity", "Chapter 22: Management of Patients with Arrhythmias and Conduction Problems", "Infection", "Chapter 23: Management of Patients with Coronary Vascular Disorders", "Inflammation", "Chapter 24: Management of Patients with Structural, Infectious, and Inflammatory Cardiac Disorders", "Intracranial Regulation", "Chapter 25: Management of Patients with Complications of Heart Disease", "Managing / Coordinating Care", "Chapter 26: Assessment and Management of Patients with Vascular Disorders and Disorders of Peripheral Circulation", "Medical Emergencies", "Chapter 27: Assessment and Management of Patients with Hypertension"]</con:value>
        </con:property>
        <con:property>
          <con:name>PrePuCutOff</con:name>
          <con:value>53</con:value>
        </con:property>
        <con:property>
          <con:name>PrepuexternalAssetId</con:name>
          <con:value>["313", "15039", "317", "15040", "316", "15041", "319", "15042", "367", "15043", "321", "15044", "664", "15045", "322", "15046", "323", "15048", "324", "15049", "325", "15050", "354", "15051", "327", "15052", "328", "15054", "329", "15055", "666", "15056", "331", "15058", "333", "15059", "668", "15060", "669", "15061", "337", "15063", "339", "15064", "340", "15065", "341", "15066", "343", "15067", "353", "15068", "263", "15069"]</con:value>
        </con:property>
        <con:property>
          <con:name>SubmittedAssignmentsCount</con:name>
        </con:property>
        <con:property>
          <con:name>StatusCode</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>accessDate</con:entry>
        <con:entry>DueDate</con:entry>
        <con:entry>EffectiveDate</con:entry>
        <con:entry>ExpireDate</con:entry>
        <con:entry>tomorrow</con:entry>
        <con:entry>tomorrow2</con:entry>
        <con:entry>instructorUserId</con:entry>
        <con:entry>numberOfAttempts</con:entry>
        <con:entry>StudentenrollmentToken</con:entry>
        <con:entry>accessTime</con:entry>
        <con:entry>DueTime</con:entry>
        <con:entry>startAt</con:entry>
        <con:entry>completedAt</con:entry>
        <con:entry>sentAt</con:entry>
        <con:entry>Assertid</con:entry>
        <con:entry>Loop</con:entry>
        <con:entry>PrepuExternalPrepuId</con:entry>
        <con:entry>PrepuTargetMasteryLevel</con:entry>
        <con:entry>PrepuName</con:entry>
        <con:entry>PrePuCutOff</con:entry>
        <con:entry>PrepuexternalAssetId</con:entry>
        <con:entry>SubmittedAssignmentsCount</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="Data Source Loop" id="b6f5ae0b-7eb2-4c41-989d-bfa48eaf3556">
    <con:settings/>
    <con:config>
      <dataSourceStep>Data Source Credetails</dataSourceStep>
      <targetStep>Set Credetails</targetStep>
      <discardResults>false</discardResults>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
