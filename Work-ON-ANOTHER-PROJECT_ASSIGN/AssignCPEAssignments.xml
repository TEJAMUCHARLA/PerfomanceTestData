<?xml version="1.0" encoding="UTF-8"?>
<con:testCase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con="http://eviware.com/soapui/config" id="be8de1c8-85db-4f9b-adba-e0a6ac4f630a" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="AssignCPEAssignments" searchProperties="true" timeout="0">
  <con:settings id="f9f1cd04-28ee-44ee-99a0-6e54c006837d">
    <con:setting id="GeneratableJUnitReport@Folder">D:\Ready APi Daily Data\March30\Issue</con:setting>
    <con:setting id="8b75fcb0-e567-492c-9656-837984e7fbb5fileName">AssignCPEAssignments_With-prepu</con:setting>
    <con:setting id="be8de1c8-85db-4f9b-adba-e0a6ac4f630afileName">AssignCPEAssignments</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="COURSE Itration" id="88089786-52dc-486f-930e-826fb5c8cc02">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep">
      <con:dataSource type="Grid">
        <con:configuration>
          <check><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry></xml-fragment>]]></check>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">0</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">400</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">1</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">11</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">100</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">2</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">31</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">200</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">3</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">400</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <recognizeAsPlainText>false</recognizeAsPlainText>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>CourseIndex</con:property>
      <con:property>AssignmentCutoffCount</con:property>
      <con:property>AssertAssgnmentCount</con:property>
      <con:startRow/>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Set Assignments Counts and Activete Course" id="b2501ee7-442d-4950-81c2-f863855d0ad1">
    <con:settings/>
    <con:config>
      <script>import java.lang.*;
import java.util.Date
import java.util.Calendar
import java.util.TimeZone
import java.text.SimpleDateFormat




def now= new Date()
SimpleDateFormat currentDatePlusOn = new SimpleDateFormat("MMMdd_HHmmss")
def currenTime= currentDatePlusOn.format(new Date(now.getTime()))
log.info("TIME NOW "+currenTime)
currenTime ="_"+currenTime

def courseIndex = context.expand( '${COURSE Itration#CourseIndex}' )
def assignmentCutoffCount = context.expand( '${COURSE Itration#AssignmentCutoffCount}' )
def assertAssgnmentCount = context.expand( '${COURSE Itration#AssertAssgnmentCount}' )

log.info("assignmentCutoffCount "+assignmentCutoffCount)
log.info("assertAssgnmentCount "+assertAssgnmentCount)
//def timeZoneOffset = context.expand( '${CreateAssignment#timeZoneOffset}' )
//def accessibleFromTimezone = context.expand( '${CreateAssignment#accessibleFromTimezone}' )

def timeZoneOffset = "-05:00"
def accessibleFromTimezone = "US/Eastern"

log.info("accessibleFromTimezone "+accessibleFromTimezone)
log.info("timeZoneOffset "+timeZoneOffset)


testRunner.testCase.testSuite.project.setPropertyValue("ProductISBN","9781975186708") 
testRunner.testCase.testSuite.project.setPropertyValue("CourseAssignmentCount",assignmentCutoffCount.toString()) //Existimg resource types 9 , so 9*5+1 =54
testRunner.testCase.testSuite.project.setPropertyValue("TotalAssignments",assertAssgnmentCount.toString())//Assignment count for assertion
//testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseName","Performance Test Data Assignments "+currenTime.toString())
//testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseTimeZone",accessibleFromTimezone.toString())
//testRunner.testCase.testSuite.project.setPropertyValue("CreateCourseDueTimeInDays","120") //course dute time 4 months form current time
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentDueTimeInDays","100")//assignmnet dute time 3 months fomr current time
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentDueTimeInMilliSeconds","14400000")
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentTimeZone",accessibleFromTimezone.toString())
testRunner.testCase.testSuite.project.setPropertyValue("CreateAssignmentTimeZoneOffset",timeZoneOffset.toString())

def instructorUser= ""
def instructorPassword= ""

//testRunner.testCase.testSuite.project.setPropertyValue("InstructorEmial",instructorUser.toString())
//testRunner.testCase.testSuite.project.setPropertyValue("instructorPassword",instructorPassword.toString())

log.info("SetUpDone")</script>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="Change Score and Assignment" id="6de4bdae-d2b2-4226-8733-5eafe1941984">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep">
      <con:dataSource type="Grid">
        <con:configuration>
          <check><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry></xml-fragment>]]></check>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">0</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">1</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">2</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">3</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">4</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">5</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">6</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">7</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">8</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">9</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">10</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">11</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">12</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">13</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">14</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">15</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">16</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">17</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">18</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">19</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">20</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">21</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">22</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">23</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">24</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">25</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">26</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">27</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">28</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">29</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">30</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">31</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">32</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">33</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">34</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">35</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">36</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">37</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">38</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">39</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">40</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">41</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">42</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">43</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">44</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">45</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">46</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">47</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">48</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">49</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">50</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">51</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">52</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">53</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">54</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">55</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">56</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">57</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">58</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">59</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">61</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">62</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">63</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">64</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">65</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">66</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">67</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">68</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">69</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">70</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">71</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">72</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">73</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">74</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">75</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">76</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">77</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">78</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">79</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">80</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">81</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">82</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">83</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">84</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">85</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">86</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">87</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">88</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">89</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">90</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">91</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">92</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">93</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">94</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">95</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">96</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">97</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">98</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">99</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">60</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">100</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <recognizeAsPlainText>true</recognizeAsPlainText>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>Score</con:property>
      <con:property>assignmentNumber</con:property>
      <con:startRow/>
      <con:endRow>0</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Activate and Deactivate Courses" id="7c72d027-a838-4be5-af01-9a632f26cfbf">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import com.eviware.soapui.impl.wsdl.WsdlProjectPro
import com.eviware.soapui.model.testsuite.TestRunner.Status

import groovy.json.JsonOutput

import groovy.json.*

def fILELOCATIOn = context.expand( '${#TestSuite#FILELOCATIOn}' )

WsdlProjectPro project = new WsdlProjectPro(fILELOCATIOn)
def ProjectName=project.name

log.info("ProjectName "+ProjectName)

def prj = testRunner.testCase.testSuite.project.workspace.getProjectByName(ProjectName)
//prj = project
def AssignmentNumber = context.expand( '${Change Score and Assignment#assignmentNumber}' ) as int

log.info("AssignmentNumber "+AssignmentNumber)

boolean isAnyCourseUpdated= false

int  backstepdisableCount =0

if(AssignmentNumber==6)
{
	isAnyCourseUpdated=true
	backstepdisableCount=1
}
 else if(AssignmentNumber==12)
{
	isAnyCourseUpdated=true
	backstepdisableCount=2
}
else if(AssignmentNumber==32)
{
	isAnyCourseUpdated=true
	backstepdisableCount=3
}
log.info("backstepdisableCount "+backstepdisableCount)
if(isAnyCourseUpdated)
{
def mood =true
def checkMood =true
for (def EachSuite in prj.getTestSuiteList())
  {
  for (def EachTestCase in EachSuite.getTestCaseList())
  {
  	def stepsList = EachTestCase.getTestStepList()
  	def count = stepsList.size()  	
  	   log.info("count "+count)
  	//getTestStepList()
              def stepName = "Course_"+(count-backstepdisableCount).toString()
                log.info("stepName "+stepName)
  	          def stepobject = EachTestCase.testSteps[stepName]
  	          stepobject.disabled=true
  	       
  	          log.info("stepobject "+stepobject.name)       
  }
  }
}

   Thread.sleep(2000)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Set Score" id="f6229068-78a4-4796-ab6d-cf5f619d6e0a">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import java.lang.*;


def score = context.expand( '${Change Score and Assignment#Score}' )
def assignmentNumber = context.expand( '${Change Score and Assignment#assignmentNumber}' )


log.info(score)
log.info(assignmentNumber)
testRunner.testCase.testSuite.project.setPropertyValue("AttemptScore", score)
testRunner.testCase.testSuite.project.setPropertyValue("AssignmnetIndex", assignmentNumber)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Generate Assignmnet  Start and End Time" id="721a92b2-8313-4576-8283-097cf38a4f95">
    <con:settings/>
    <con:config>
      <script>import java.lang.*;
import java.util.Date
import java.util.Calendar
import java.util.TimeZone
import java.text.SimpleDateFormat

def ArrayData = new ArrayList()
testRunner.testCase.testSuite.setPropertyValue("collectionId_List","")


def dueTime = context.expand( '${#TestCase#DueTime}' )
def dueDate = context.expand( '${#TestCase#DueDate}' )

def accessDate = context.expand( '${#TestCase#accessDate}' )
def accessTime = context.expand( '${#TestCase#accessTime}' )

def accessibleFromTimezone = context.expand( '${CreateAssignment#accessibleFromTimezone}' )
def timeZoneOffset = context.expand( '${CreateAssignment#timeZoneOffset}' )
def isImmediateAvailable = context.expand( '${CreateAssignment#isImmediateAvailable}' )

isImmediateAvailable=true
def createAssignmentTimeZone = context.expand( '${#Project#CreateAssignmentTimeZone}' )
accessibleFromTimezone =createAssignmentTimeZone
def createAssignmentTimeZoneOffset = context.expand( '${#Project#CreateAssignmentTimeZoneOffset}' )
timeZoneOffset=createAssignmentTimeZoneOffset


log.info("accessibleFromTimezone : "+accessibleFromTimezone)
log.info("timeZoneOffset : "+timeZoneOffset)
log.info("isImmediateAvailable : "+isImmediateAvailable)

def assignmnetDueTime_MS =context.expand( '${#Project#CreateAssignmentDueTimeInMilliSeconds}' ) as int
log.info(assignmnetDueTime_MS)
def createAssignmentDueTimeInDays = context.expand( '${#Project#CreateAssignmentDueTimeInDays}' ) as int
log.info("createAssignmentDueTimeInDays  "+createAssignmentDueTimeInDays)
//def createAssignmentDueTimeInMilliSeconds = context.expand( '${#Project#CreateAssignmentDueTimeInMilliSeconds}' )


def now= new Date()

Calendar cal = Calendar.getInstance();
Date today = new Date();
cal.setTime(today);
cal.add(Calendar.DATE, createAssignmentDueTimeInDays)
Date currentDatePlusOne = cal.getTime();
SimpleDateFormat currentDatePlusOn = new SimpleDateFormat("yyyy-MM-dd")
SimpleDateFormat duteTimePlus = new SimpleDateFormat("hh:mm a")

currentDatePlusOn.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));
duteTimePlus.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));
def DueDateData
def DueTimeData
if(createAssignmentDueTimeInDays==0)
{
	 DueDateData= currentDatePlusOn.format(new Date(now.getTime()+assignmnetDueTime_MS))
 DueTimeData= duteTimePlus.format(new Date(now.getTime()+assignmnetDueTime_MS))
}else
{
DueDateData= currentDatePlusOn.format(currentDatePlusOne)
 DueTimeData= duteTimePlus.format(new Date(now.getTime()+assignmnetDueTime_MS))
}


if(isImmediateAvailable.toString() == "true")
{
	log.info("true")
SimpleDateFormat DateAndtimee = new SimpleDateFormat("yyyy-MM-dd'T'hh:mm:ss")
SimpleDateFormat JustTime = new SimpleDateFormat("hh:mm a")

DateAndtimee.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));
JustTime.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));

def CurrentDateandTime= DateAndtimee.format(new Date(now.getTime()+8000))
def CurrentTimeBeforeAdd= JustTime.format(new Date())
def CurrentTimeAfterAddg= JustTime.format(new Date(now.getTime()+8000))
def accesDate = CurrentDateandTime+timeZoneOffset
def accesTime = CurrentTimeAfterAddg

 accessDate = accesDate
 accessTime = accesTime
log.info("accesDateTime= "+accesDate)
log.info("CurrentTimeBeforeAdd= "+CurrentTimeBeforeAdd)	
log.info("CurrentTimeAfterAddg "+CurrentTimeAfterAddg)	

}
else
{
		log.info("false")
Calendar cal2 = Calendar.getInstance();
Date today2 = new Date();
cal2.setTime(today);
cal2.add(Calendar.DATE, 10)
Date currentDatePlusOne2 = cal2.getTime();
SimpleDateFormat currentDatePlusOn2 = new SimpleDateFormat("yyyy-MM-dd'T'hh:mm:ss")
SimpleDateFormat JustTime2 = new SimpleDateFormat("hh:mm a")

currentDatePlusOn2.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));
JustTime2.setTimeZone(TimeZone.getTimeZone(accessibleFromTimezone));

def futuredate2= currentDatePlusOn2.format(currentDatePlusOne2)
def futureTime2= JustTime2.format(currentDatePlusOne2)
accessDate = futuredate2+timeZoneOffset
 accessTime = futureTime2
//log.info("hgfgfhgf"+futuredate2)
}
log.info("DueDate =" +DueDateData +" and Time = "+ DueTimeData)
log.info("accessDate =" +accessDate +" and Time = "+ accessTime)

testRunner.testCase.setPropertyValue("dueDate", DueDateData)
testRunner.testCase.setPropertyValue("dueTime", DueTimeData)
testRunner.testCase.setPropertyValue("accessDate", accessDate)
testRunner.testCase.setPropertyValue("accessTime", accessTime)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="PrePuDetails" id="f6dfb93b-7576-410d-83b0-dd2eaae879f9">
    <con:settings/>
    <con:config service="Assignment" methodName="Method 1" resourcePath="/api/phx-assignment-management/v1/assignment" xsi:type="con:RestRequestStep">
      <con:restRequest name="PrePuDetails" id="1a4e6fe9-5326-4c7d-953f-7c68b0ed4e29" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>/api/phx-assignment-management/v1/assignment</con:endpoint>
        <con:request>[
    {
      "targetMasteryLevel": 8,
      "externalPrepuId": D_assetId,
      "topicId": D_assetId,
      "isConceptBasedMl": D_isConceptBasedMl
    }
]</con:request>
        <con:originalUri>https://contentqa01-ccm.hlrpphoenix.com/api/phx-assignment-management/v1/assignment</con:originalUri>
        <con:assertion type="Response SLA Assertion" id="70e43fa9-49f2-48d8-897f-3f3f611b57ce" name="Response SLA">
          <con:configuration>
            <SLA>${SLA}</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="5fdd3302-0f5d-4e97-86ac-499553156130">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="91a6eeff-dd67-4af8-98fd-225fe8ca80e2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="84a8c881-bb29-487a-93b8-3f2e674fb825">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CPEAssignmentBody" id="f5da02ea-4d7b-4200-92d3-f01d0ad16e60">
    <con:settings/>
    <con:config service="Assignment" methodName="Method 1" resourcePath="/api/phx-assignment-management/v1/assignment" xsi:type="con:RestRequestStep">
      <con:restRequest name="CPEAssignmentBody" id="1a4e6fe9-5326-4c7d-953f-7c68b0ed4e29" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>/api/phx-assignment-management/v1/assignment</con:endpoint>
        <con:request>{
  "courseId": "D_courseId",
  "points": 100,
  "isGraded": D_isGraded,
  "attemptType": "Highest Grade",
  "isHighlightLateSubmission": true,
  "isBroadcastingRequired": false,
  "productIsbn": "${#Project#ProductISBN}",
 "prepuDetails": D_prepuDetails,
 "metaInformation": {},
 "maxAttempts": 0,
"sections": [
    {
      "sectionCode": [
        "*" 
      ],
      "dueDate": "${#TestCase#DueDate}",
      "dueDateTime": "${#TestCase#DueTime}",
      "dueDateTimezone": "${#Project#CreateAssignmentTimeZone}",
      "accessibleFrom": "${#TestCase#accessDate}",
      "accessibleFromTime": "${#TestCase#accessTime}",
      "accessibleFromTimezone": "${#Project#CreateAssignmentTimeZone}",
      "isForEveryOne":true,
      "isImmediateAvailable":true,
      "isUnlocked":true
    }
  ],
  
  "name": "D_name",
  "resourceTypeId": "D_resourceTypeId",
  "assets": {
    "assetId": D_assetId,
    "assetVersion": "D_assetVersion",
    "assetType": "ASSET"
  },
  "assignmentType": {
    "type": "D_type",
    "systemId": ""
  }
}</con:request>
        <con:originalUri>https://contentqa01-ccm.hlrpphoenix.com/api/phx-assignment-management/v1/assignment</con:originalUri>
        <con:assertion type="Response SLA Assertion" id="70e43fa9-49f2-48d8-897f-3f3f611b57ce" name="Response SLA">
          <con:configuration>
            <SLA>${SLA}</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="5fdd3302-0f5d-4e97-86ac-499553156130">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="91a6eeff-dd67-4af8-98fd-225fe8ca80e2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="84a8c881-bb29-487a-93b8-3f2e674fb825">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="Get Assignmnet Type" id="2239877b-56c2-4892-b23a-f153900bc944">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep">
      <con:dataSource type="Grid">
        <con:configuration>
          <check><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">false</con:entry></xml-fragment>]]></check>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">1</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PREP_U</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">24</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PrepU Mastery Level Quizzes By Concept</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">2</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PREP_U</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">12</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PrepU Mastery Level Quizzes by Chapter</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">4</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">ANIMATIONS</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">6</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Animations</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">5</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">INTERACTIVE_CASE_STUDIES</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">16</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Interactive Case Studies</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">6</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">INTERACTIVE_TUTORIALS</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">13</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Interactive Tutorials</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">7</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PICMONIC</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">17</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Picmonic</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">8</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">QUIZ</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">9</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Pre-Lecture Quizzes</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">9</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">VIDEOS</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">5</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Videos</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">TRUE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">10</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">EBOOK</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">2</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Ebook</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">FALSE</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <recognizeAsPlainText>true</recognizeAsPlainText>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>number</con:property>
      <con:property>AssignmentType</con:property>
      <con:property>resourceTypeId</con:property>
      <con:property>DetailsMapedName</con:property>
      <con:property>IsGraded</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="ArrangeAssignmentBody" id="d68183e1-2e00-48c8-8a40-09e18b279ffa">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import com.eviware.soapui.model.testsuite.TestRunner.Status
import groovy.json.JsonOutput
import groovy.json.*
import com.eviware.soapui.impl.wsdl.WsdlProjectPro

import java.lang.*;
import java.util.concurrent.TimeUnit;
import java.util.Date
import java.util.Calendar
import java.util.TimeZone
import java.text.SimpleDateFormat

def rawRequest = context.expand( '${CPEAssignmentBody#RawRequest}' )
def rawRequestData = rawRequest
def rawRequestPrePuDetails = context.expand( '${PrePuDetails#RawRequest}' )
def rawRequestPrePu=rawRequestPrePuDetails
def rawRequestPrePuDetailsQC = context.expand( '${PrePuDetails_QC#RawRequest}' )
def rawRequestPrePuQC=rawRequestPrePuDetailsQC

//log.info(rawRequestData)

testRunner.testCase.testSuite.setPropertyValue("Assignment_BodyData","")

def name =""
def assetId=""
def version=""
def type=""
def typeId=""
def number = context.expand( '${Get Assignmnet Type#number}' )
def assignmentType = context.expand( '${Get Assignmnet Type#AssignmentType}' )
def resourceTypeId = context.expand( '${Get Assignmnet Type#resourceTypeId}' )
def detailsMapedName = context.expand( '${Get Assignmnet Type#DetailsMapedName}' )
def isGraded = context.expand( '${Get Assignmnet Type#IsGraded}' )

isGraded= isGraded.toLowerCase()


def resourceTypeLableName = detailsMapedName
log.info("MAPED NAME = "+resourceTypeLableName)
//resourceTypeLableName ="Interactive Tutorials"
//def assignmnetIndex = context.expand( '${#TestSuite#AssignmnetIndex}' )
def assignmnetIndex = context.expand( '${#Project#AssignmnetIndex}' )

def assignmentNumber = assignmnetIndex

log.info("assignmentNumber   "+assignmentNumber)
/*
def AssignmentNames = "\${#TestSuite#CCM2_"+resourceTypeLableName+"AssignmentNames#\$["+assignmentNumber+"]}"
def PublishedVersions = "\${#TestSuite#CCM2_"+resourceTypeLableName+"PublishedVersions#\$["+assignmentNumber+"]}"
def ExternalAssetIds = "\${#TestSuite#CCM2_"+resourceTypeLableName+"ExternalAssetIds#\$["+assignmentNumber+"]}"
def Actvityids = "\${#TestSuite#CCM2_"+resourceTypeLableName+"Actvityids#\$["+assignmentNumber+"]}"
*/
def AssignmentNames = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"AssignmentNames#\$["+assignmentNumber+"]}"
def PublishedVersions = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"PublishedVersions#\$["+assignmentNumber+"]}"
def ExternalAssetIds = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"ExternalAssetIds#\$["+assignmentNumber+"]}"
def Actvityids = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"Actvityids#\$["+assignmentNumber+"]}"

//def cCM2_PicmonicPublishedVersions = context.expand( '${#[MAPPED ASSETS]#CCM2_PicmonicPublishedVersions#$[0]}' )


log.info("formate "+AssignmentNames)
def cCM2_AssignmentNames = context.expand( AssignmentNames )
def cCM2_PublishedVersions = context.expand(PublishedVersions)
def cCM2_ExternalAssetIds = context.expand( ExternalAssetIds )
def cCM2_Actvityids = context.expand( Actvityids )

name=cCM2_AssignmentNames
assetId=cCM2_ExternalAssetIds
version = cCM2_PublishedVersions
type=assignmentType
typeId=resourceTypeId


log.info("name :"+cCM2_AssignmentNames+"assert id := "+cCM2_ExternalAssetIds+"version := "+cCM2_PublishedVersions+"ActivityId := "+cCM2_Actvityids)

def bodyData=rawRequestData.toString().replace("D_name",name).replace("D_assetId",assetId).replace("D_assetVersion",version).replace("D_type",type).replace("D_resourceTypeId",typeId).replace("D_isGraded",isGraded)



def PrePuDetails 
if((resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes by Chapter") ||(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes By Concept"))
{

	def  D_isConceptBasedMl 
if(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes by Chapter")
{
	D_isConceptBasedMl=false
}
if(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes By Concept")
{
	D_isConceptBasedMl = true
}
	rawRequestPrePu=rawRequestPrePu.replace("D_assetId",assetId.toString()).replace("D_isConceptBasedMl",D_isConceptBasedMl.toString())
	PrePuDetails=rawRequestPrePu
}
else
{
	PrePuDetails = null
}

bodyData = bodyData.replace("D_prepuDetails",PrePuDetails.toString())

log.info("final body = "+bodyData)
testRunner.testCase.testSuite.setPropertyValue("Assignment_BodyData",bodyData.toString())

def fILELOCATIOn = context.expand( '${#TestSuite#FILELOCATIOn}' )

log.info("fILELOCATIOn "+fILELOCATIOn)
WsdlProjectPro project = new WsdlProjectPro(fILELOCATIOn)
def ProjectName=project.name
log.info("ProjectName "+ProjectName)
def prj = testRunner.testCase.testSuite.project.workspace.getProjectByName(ProjectName)
def SuiteName=""
//bodyData="TEJA"
for(int j =1;j&lt;=5;j++)
{
	SuiteName="Work_"+j.toString()
def TestSuiteName = SuiteName
def targetTestSuite = prj.testSuites[TestSuiteName]
log.info("targetTestSuite "+targetTestSuite.name)
targetTestSuite.setPropertyValue("Final_AssignAssignment_BodyData",bodyData.toString())
def courseIndex = context.expand( '${COURSE Itration#CourseIndex}' )
log.info("courseIndex "+courseIndex)
targetTestSuite.setPropertyValue("ActivationCourseIndex",courseIndex.toString())
}</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="CALL PROJECT" id="76223152-1bdf-47b6-a039-cbf16aed345d">
    <con:settings/>
    <con:config>
      <script>import com.eviware.soapui.impl.wsdl.WsdlProjectPro


Thread.sleep(3000)
def fILELOCATIOn = context.expand( '${#TestSuite#FILELOCATIOn}' )

WsdlProjectPro project = new WsdlProjectPro(fILELOCATIOn)

def ProjectName= project.name
log.info("ProjectName "+ProjectName)
//testCaseToRun = testRunner.testCase.testSuite.project.workspace.getProjectByName(ProjectName).testSuites['TestSuiteContainingTestCaseToRun name'].testCases['TestCaseToRun name']
//testCaseToRun.run(null,false)

def TragetProeject =testRunner.testCase.testSuite.project.workspace.getProjectByName(ProjectName)

def runner =TragetProeject.run(new com.eviware.soapui.support.types.StringToObjectMap(), false)

//def runner = project.run(new com.eviware.soapui.support.types.StringToObjectMap(), false)
def dsfdsf =runner.results

log.info("dsfdsf "+dsfdsf)
def GetStatusOfTS1=runner.getStatus().toString()
log.info("GetStatusOfTS1 "+GetStatusOfTS1)
//log.info("project"+project)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Wait for Next Assignment Assign" id="67797e47-413e-4df7-81a0-1885e14b8613" disabled="true">
    <con:settings/>
    <con:config>
      <delay>1000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="Data Source Loop" id="248c727e-25a1-4d39-8d50-06fed0ea3e85">
    <con:settings/>
    <con:config>
      <dataSourceStep>Get Assignmnet Type</dataSourceStep>
      <targetStep>ArrangeAssignmentBody</targetStep>
      <discardResults>false</discardResults>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="Data Source Loop 2" id="d279e4cf-5f38-49ea-ab34-862d4f814545">
    <con:settings/>
    <con:config>
      <dataSourceStep>Change Score and Assignment</dataSourceStep>
      <targetStep>Activate and Deactivate Courses</targetStep>
      <discardResults>false</discardResults>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="ArrangeAssignmentBodyOLD" id="f479b01d-2192-4626-a0d9-ac9b9dea554c" disabled="true">
    <con:settings/>
    <con:config>
      <script>import groovy.json.JsonSlurper
import com.eviware.soapui.model.testsuite.TestRunner.Status
import groovy.json.JsonOutput
import groovy.json.*

import java.lang.*;
import java.util.concurrent.TimeUnit;
import java.util.Date
import java.util.Calendar
import java.util.TimeZone
import java.text.SimpleDateFormat

def rawRequest = context.expand( '${CPEAssignmentBody#RawRequest}' )
def rawRequestData = rawRequest
def rawRequestPrePuDetails = context.expand( '${PrePuDetails#RawRequest}' )
def rawRequestPrePu=rawRequestPrePuDetails
def rawRequestPrePuDetailsQC = context.expand( '${PrePuDetails_QC#RawRequest}' )
def rawRequestPrePuQC=rawRequestPrePuDetailsQC

//log.info(rawRequestData)

testRunner.testCase.testSuite.setPropertyValue("Assignment_BodyData","")

def name =""
def assetId=""
def version=""
def type=""
def typeId=""
def number = context.expand( '${Get Assignmnet Type#number}' )
def assignmentType = context.expand( '${Get Assignmnet Type#AssignmentType}' )
def resourceTypeId = context.expand( '${Get Assignmnet Type#resourceTypeId}' )
def detailsMapedName = context.expand( '${Get Assignmnet Type#DetailsMapedName}' )
def isGraded = context.expand( '${Get Assignmnet Type#IsGraded}' )

isGraded= isGraded.toLowerCase()


def resourceTypeLableName = detailsMapedName
log.info("MAPED NAME = "+resourceTypeLableName)
//resourceTypeLableName ="Interactive Tutorials"
//def assignmnetIndex = context.expand( '${#TestSuite#AssignmnetIndex}' )
def assignmnetIndex = context.expand( '${#Project#AssignmnetIndex}' )

def assignmentNumber = assignmnetIndex

log.info("assignmentNumber   "+assignmentNumber)
/*
def AssignmentNames = "\${#TestSuite#CCM2_"+resourceTypeLableName+"AssignmentNames#\$["+assignmentNumber+"]}"
def PublishedVersions = "\${#TestSuite#CCM2_"+resourceTypeLableName+"PublishedVersions#\$["+assignmentNumber+"]}"
def ExternalAssetIds = "\${#TestSuite#CCM2_"+resourceTypeLableName+"ExternalAssetIds#\$["+assignmentNumber+"]}"
def Actvityids = "\${#TestSuite#CCM2_"+resourceTypeLableName+"Actvityids#\$["+assignmentNumber+"]}"
*/
def AssignmentNames = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"AssignmentNames#\$["+assignmentNumber+"]}"
def PublishedVersions = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"PublishedVersions#\$["+assignmentNumber+"]}"
def ExternalAssetIds = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"ExternalAssetIds#\$["+assignmentNumber+"]}"
def Actvityids = "\${#[MAPPED ASSETS]#CCM2_"+resourceTypeLableName+"Actvityids#\$["+assignmentNumber+"]}"

//def cCM2_PicmonicPublishedVersions = context.expand( '${#[MAPPED ASSETS]#CCM2_PicmonicPublishedVersions#$[0]}' )


log.info("formate "+AssignmentNames)
def cCM2_AssignmentNames = context.expand( AssignmentNames )
def cCM2_PublishedVersions = context.expand(PublishedVersions)
def cCM2_ExternalAssetIds = context.expand( ExternalAssetIds )
def cCM2_Actvityids = context.expand( Actvityids )

name=cCM2_AssignmentNames
assetId=cCM2_ExternalAssetIds
version = cCM2_PublishedVersions
type=assignmentType
typeId=resourceTypeId


log.info("name :"+cCM2_AssignmentNames+"assert id := "+cCM2_ExternalAssetIds+"version := "+cCM2_PublishedVersions+"ActivityId := "+cCM2_Actvityids)

def bodyData=rawRequestData.toString().replace("D_name",name).replace("D_assetId",assetId).replace("D_assetVersion",version).replace("D_type",type).replace("D_resourceTypeId",typeId).replace("D_isGraded",isGraded)



def PrePuDetails 
if((resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes by Chapter") ||(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes By Concept"))
{

	def  D_isConceptBasedMl 
if(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes by Chapter")
{
	D_isConceptBasedMl=false
}
if(resourceTypeLableName.toString()=="PrepU Mastery Level Quizzes By Concept")
{
	D_isConceptBasedMl = true
}
	rawRequestPrePu=rawRequestPrePu.replace("D_assetId",assetId.toString()).replace("D_isConceptBasedMl",D_isConceptBasedMl.toString())
	PrePuDetails=rawRequestPrePu
}
else
{
	PrePuDetails = null
}

bodyData = bodyData.replace("D_prepuDetails",PrePuDetails.toString())

log.info("final body = "+bodyData)
testRunner.testCase.testSuite.setPropertyValue("Assignment_BodyData",bodyData.toString())



/*
//finalPushBody =JsonOutput.toJson(json)
def targetTestSuite = testRunner.testCase.testSuite.project.getTestSuiteByName("Work2")
log.info("json.toString() "+json.toString())
targetTestSuite.setPropertyValue("Final_Attempt_BodyData",finalPushBody.toString())
def final_Attempt_BodyData = context.expand( '${#[Work2]#Final_Attempt_BodyData}' )
log.info("final_Attempt_BodyData "+final_Attempt_BodyData)
*/
def targetTestSuite = testRunner.testCase.testSuite.project.getTestSuiteByName("Work4")
targetTestSuite.setPropertyValue("Final_AssignAssignment_BodyData",bodyData.toString())
def final_AssignAssignment_BodyData = context.expand( '${#[Work4]#Final_AssignAssignment_BodyData}' )
log.info("final_AssignAssignment_BodyData "+final_AssignAssignment_BodyData.toString())
//IMP
def courseIndex = context.expand( '${COURSE Itration#CourseIndex}' )
log.info("courseIndex "+courseIndex)
targetTestSuite.setPropertyValue("ActivationCourseIndex",courseIndex.toString())


//IMP



Thread.sleep(1000)
//def targetTestCase = targetTestSuite.getTestCaseByName("yourTargetTestCaseName")
def assetActivityId = "1234"//context.expand( '${#TestCase#AssetActivityId}' )

log.info("assetActivityId "+assetActivityId)

if(!(assetActivityId==""))
{
	
def runner =targetTestSuite.run(new com.eviware.soapui.support.types.StringToObjectMap(), false)
Thread.sleep(1000);
def GetStatusOfTS1=runner.getStatus().toString()
log.info("GetStatusOfTS1 "+GetStatusOfTS1)
}
else
{
	log.info("assetActivityId is Null "+assetActivityId)
}</script>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>accessDate</con:name>
      <con:value>2023-11-23T11:39:11-05:00</con:value>
    </con:property>
    <con:property>
      <con:name>DueDate</con:name>
      <con:value>2024-03-02</con:value>
    </con:property>
    <con:property>
      <con:name>EffectiveDate</con:name>
      <con:value>2023-04-18T00:00:00.000Z</con:value>
    </con:property>
    <con:property>
      <con:name>ExpireDate</con:name>
      <con:value>2023-05-18T00:00:00.000Z</con:value>
    </con:property>
    <con:property>
      <con:name>tomorrow</con:name>
      <con:value>Tue, Apr 18 2023</con:value>
    </con:property>
    <con:property>
      <con:name>tomorrow2</con:name>
      <con:value>2023-04-18</con:value>
    </con:property>
    <con:property>
      <con:name>instructorUserId</con:name>
      <con:value>0345b785-ba3e-4b3a-9c6c-447101694d75</con:value>
    </con:property>
    <con:property>
      <con:name>numberOfAttempts</con:name>
      <con:value>1</con:value>
    </con:property>
    <con:property>
      <con:name>StudentenrollmentToken</con:name>
      <con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODE4ODU5NjAsImp0aSI6IjAxZDNiYzFlLWJlMzMtNGNjOS04OGU3LWI4ZTcxMjMzNTNhNSIsImlhdCI6MTY4MTcxMzE2MCwiaXNzIjoiaHR0cHM6Ly9waG9lbml4LWNjbS50aGVwb2ludC5sd3cuY29tIiwibmJmIjoxNjgxNzEzMTYwLCJzdWIiOiI5ZTZlOGM1Ny02ODNlLTRjNTQtODkzMS00NDc0MDE1OWQ2ODUiLCJobHJwX2NjbSI6W3siciI6InMiLCJjcnMiOiJnU0VCUUJLRzk5SUIiLCJzZWMiOiJnU0VCUUJLRzk5SUJfc1NFQlFCS0dBMlIifV19.kKMRJHB4y0Tno_H-esNrWhe-RsUn8zHCmazkZhhKCgXyBFbLRWiD2zyGp5MOZCZbIW1WIlQg4CjosIPwQtw204mHb6iNohaZtznNKEaZ5_BbW3241Stf9E_xo2X9qBCl_zrYUpX1M4uR066aPvoD5d_hViNCAynUW7OXzK3nC4VgF9F6amwQSDrje6AeD8D8vLTw_kmFk9eGSkVvEWnd5ZssYCAzqyVdgadLGbFrWj2N3TOIPsEkgR3HoJ17Ipg_ZCAwBqrAiPG5WMqQsNbMexKeSeb2bMA5FQuasV9Qc3YK9aphsr4ER17HAAZ1F1GtO_gmaYBO8xKU11WX1_UDGx5Dt0cpeRM24oonRf4sGS-BIsWXCsG8fTyaYzfJajIv7xh-ibK5NYtp2fji4W1l9ErKyfMX8bh27B5TnSOPjKZQydo4bqRnpK6IeiSCKmhbi195Yzzzns9h3Zs0edCV70UnEnFPO23gHIM2tSjkk_HNUitc8rR3ErYXKQx_p3t4RyAYcP8dbqi0RdepDBYoyR8LtFpfF63PYKKSk9SD5ePpqcqyqfHDibuL_Onmn0q14sF5TkXmnFLrj15Bxx4dgJV6BwTwbc3n_I-y5unOB6nbSR2PwINbsueSx7hjmebMPzZJqUwCGeehUnvGvt5vMbMY1ofYglw1HxryhcCvgdo</con:value>
    </con:property>
    <con:property>
      <con:name>accessTime</con:name>
      <con:value>11:39 PM</con:value>
    </con:property>
    <con:property>
      <con:name>DueTime</con:name>
      <con:value>03:39 AM</con:value>
    </con:property>
    <con:property>
      <con:name>AssignedAssignmnetCount</con:name>
      <con:value>419</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="6ce173f5-e51c-4b7f-9575-82621bb74596">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
